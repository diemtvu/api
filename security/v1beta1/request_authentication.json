{
  "openapi": "3.0.0",
  "info": {
    "title": "",
    "version": "v1beta1"
  },
  "components": {
    "schemas": {
      "istio.security.v1beta1.JWT": {
        "description": "JSON Web Token (JWT) token format for authentication as defined by [RFC 7519](https://tools.ietf.org/html/rfc7519). See [OAuth 2.0](https://tools.ietf.org/html/rfc6749) and [OIDC 1.0](http://openid.net/connect) for how this is used in the whole authentication flow.",
        "type": "object",
        "properties": {
          "issuer": {
            "description": "Identifies the issuer that issued the JWT. See [issuer](https://tools.ietf.org/html/rfc7519#section-4.1.1) Usually a URL or an email address.",
            "type": "string",
            "format": "string"
          },
          "audiences": {
            "description": "The list of JWT [audiences](https://tools.ietf.org/html/rfc7519#section-4.1.3). that are allowed to access. A JWT containing any of these audiences will be accepted.",
            "type": "array",
            "items": {
              "type": "string",
              "format": "string"
            }
          },
          "jwksUri": {
            "description": "URL of the provider's public key set to validate signature of the JWT. See [OpenID Discovery](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata).",
            "type": "string",
            "format": "string"
          },
          "jwks": {
            "description": "JSON Web Key Set of public keys to validate signature of the JWT. See https://auth0.com/docs/jwks.",
            "type": "string",
            "format": "string"
          },
          "jwtHeaders": {
            "description": "JWT is sent in a request header. `header` represents the header name.",
            "type": "array",
            "items": {
              "type": "string",
              "format": "string"
            }
          },
          "jwtParams": {
            "description": "JWT is sent in a query parameter. `query` represents the query parameter name.",
            "type": "array",
            "items": {
              "type": "string",
              "format": "string"
            }
          }
        }
      },
      "istio.security.v1beta1.RequestAuthentication": {
        "description": "RequestAuthentication defines what request authentication methods should be supported by an workload. If a request carries a token at the location recognized by one of the rules in the configuration, that token must be valid in order for a request to be accepted. On the other hand, a request that doesn't haven any token is also accepted but will not have any authenticated identity. To restrict access to authenticated requests only, this should be accompanied with an authorization rule. Examples: - Require JWT for all request for workspace `httpbin`",
        "type": "object",
        "properties": {
          "selector": {
            "$ref": "#/components/schemas/istio.type.v1beta1.WorkloadSelector"
          },
          "jwtRules": {
            "description": "Define the list of JWTs that can be validated at the selected workloads' proxy. Each rule will be activated only when a token is presented at the location recorgnized by the rule. The token will be validated based on the JWT rule config. If validation fails, request will be rejected. Note: while it is supported to validate all tokens if more than one prensented (at different locations but still recognized by one of the rules), the output principal is nondeterministic.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/istio.security.v1beta1.JWT"
            }
          }
        }
      },
      "istio.type.v1beta1.WorkloadSelector": {
        "description": "Optional. Workload selector decides where to apply the RequestAuthentication policy. If not set, the policy will be applied to all workloads in the same namespace as the policy.",
        "type": "object",
        "properties": {
          "matchLabels": {
            "description": "One or more labels that indicate a specific set of pods/VMs on which a policy should be applied. The scope of label search is restricted to the configuration namespace in which the resource is present.",
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "format": "string"
            }
          }
        }
      }
    }
  }
}